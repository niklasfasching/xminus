{{ define "/index.html" }}
<!DOCTYPE html>
<html>
  <head>
    <title>{{ .name }}</title>
    <link rel="manifest" href="assets/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="assets/style.css" rel="stylesheet"/>
    <script type="module" src="index.mjs"></script>
  </head>
</html>
{{ end }}

<script>
{{ define "/index.mjs" }}
import {html, route, render} from "../../src/jsxy.mjs";

route({
  "/": App,
}, document.body);

function App(props) {
  return html`
    <x-app>
      <h1>Hello world</h1>
    </x-app>`
}

{{ end }}
<script>

{{ define "/assets/style.css" }}
{{ end }}

<script type="module">
{{ define "/assets/manifest.json" }}
{
  "version": "0.0.1",
  "display": "standalone",
  "name": "{{ .name }}",
  "short_name": "{{ .name  }}",
  "start_url": "../",
  "icons": [
    {
      "src": "logo.svg",
      "sizes": "any"
    }
  ]
}
{{ end }}
</script>

{{ define "/assets/logo.svg" }}
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <style>
   text { font: bold 45px monospace; }
  </style>
  <rect x="0" y="0" width="100" height="100" stroke="black" stroke-width="12px" fill="transparent"/>
  <text x="40%" y="55%">/</text>
</svg>
{{ end }}
